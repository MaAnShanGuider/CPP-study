## C++中的函数
每个C++程序都至少有一个函数。即主函数 `main()` 。

## 定义函数
具体语法形式:
```
    return_type function_name (parameter list) 
    {
        // 函数体
    }
```
函数的函数体可以单独定义，也就是我们可以先声明函数名，然后再写函数体。
```
   #include <iostream>

   using namespace std;

   int Max(int, int);

   int main()
   {
    cout << Max(12, 13) << endl;

    cin.get();
    return 0;
   }

   int Max(int a, int b)
   {
    int max;
    if (a > b)
    {
        max = a;
    }
    else {
        max = b;
    }
    return max;
   }
```
函数声明会告诉函数编译器函数名称以及如何调用函数。函数的实际主体可以单独定义。

函数声明包括一下几个部分:
```
    return_type function_name( paramerter list);
```
针对上面定义的函数max(), 下面是函数声明:
```
    int max(int num1, int num2);
```
在函数声明中，参数的名称并不重要。只有参数的类型是必须的。在这种情况下，我们应该在调用函数的文件顶部声明函数。
## 调用函数
当程序调用函数时，程序控制权会转移给被调用的函数。被调用的函数执行已定义的任务，当函数的返回语句被执行时，或到达函数的结束括号时，会把程勋控制权交还给主程序。

## 函数的默认值
当我们定义一个函数时，我们可以认为参数列表中后边的每一个参数指定的默认值。当调用函数时，如果实际的值留空，则使用这个默认值。

```
    #include <iostream>
    using namespace std;

    int sum(int a, int b = 30);

    int main()
    {
        cout << sum(10) << endl;
        cin.get();
        return 0;
    }

    int sum(int a, int b) 
    {
        let sum = a + b;
        return sum
    }
```

## Lambda 匿名函数与表达式
C++11 提供了对匿名函数的支持,称为 Lambda 函数(也叫 Lambda 表达式)。

Lambda 表达式把函数看作对象。Lambda 表达式可以像对象一样使用，比如可以将它们赋给变量和作为参数传递，还可以像函数一样对其求值。

Lambda 表达式本质上与函数声明非常类似。Lambda 表达式具体形式如下:
```
    [capture](parameters)-> return_type{body}
```
eg：
```
    [](int x, int y){return x < y;}
```
如果没有返回值可以表示为:
```
    [capture](parameters){ body }
```
例如:
```
    []{ ++global_x;}
```
在一个更为复杂的例子中，返回类型可以被明确的指定如下:
```
    [](int x, int y) -> int {int z = x + y; return z + x;}
```
本例中，一个临时的参数z被创建用来存储中间结果。如同一般的函数，z的值不会保留到下一次匿名函数再次被调用时。

如果lambda函数没有传回值(例如 void), 其返回类型可被完全忽略。

在lambda表达式内可以访问当前作用域的变量，这是lambda表达式的闭包(Closure)行为。与Javascript闭包不同，C++变量传递有传质和传引用的区别
。可以通过前面的[]来指定:
| 指定内容 | 描述
|- |-
| [] | 没有定义任何变量。使用未定义变量会引发错误。
| [x, &y] | x以传值方式传入(默认)。y以引用方式传入。
| [&] | 任何被使用到的外部变量都隐式地以引用方式被引用
| [=] | 任何被使用到的外部变量都隐式地以传值方式被引用。
| [&, x] | x显式地以传值方式加以引用。其余变量以引用方式被引用。
| [=, &z] | z显式地以引用方式加以引用。其余变量以传值方式加以引用。

另外有点需要注意。对于[=]或者[&]的形式，lambda表达式可以直接使用this指针。但是对于[]的形式，如果要使用this指针，必须显式传入:
```
    [this]() {this -> someFunc(); }();
```

### 函数参数
如果函数要使用参数，则必须声明接受参数值的变量。这些变量成为函数的形式参数。
形式参数就像函数内的其他局部变量，在进入函数时被创建，退出函数时被销毁。

当调用函数时，有两种向函数传递的方式:
|- 调用类型 |- 描述
|-|-
|传值调用 | 该方法把参数的实际值复制给函数的形式参数。在这种情况下，修改函数内的形式参数对实际参数没有影响。
|指针调用| 该方法把参数的地址复制给形式参数。在函数内，该地址用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。
|引用调用 | 该方法把参数的引用赋值给形式参数。在函数内，该引用用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。

默认情况下，C++使用传值调用来传递参数。一般来讲，这意味着函数内的代码不能改变用于调用的参数。之前提到的实例，调用了max()函数时，使用了相同的方法。
